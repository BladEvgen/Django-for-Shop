{% extends "components/base.html" %}
{% load django_app_filters_and_tags %}
{% block main %}
{% check_access "moder_seller" as access %}
{% if access %}
<div class="container mt-5">
    <h2 class="text-center mb-4 text-primary">üìã –õ–∏—Å—Ç –∑–∞–∫–∞–∑–æ–≤</h2>

    <!-- –§–∏–ª—å—Ç—Ä—ã –∑–∞–∫–∞–∑–æ–≤ -->
    <div class="d-flex justify-content-center flex-wrap mb-4">
        <a href="{% url 'order_list' %}?status=processing" class="btn {% if request.GET.status == 'processing' %}btn-primary{% else %}btn-outline-primary{% endif %} mx-2">
            <i class="fas fa-spinner"></i> –û–±—Ä–∞–±–æ—Ç–∫–∞
        </a>
        <a href="{% url 'order_list' %}?status=confirmed" class="btn {% if request.GET.status == 'confirmed' %}btn-success{% else %}btn-outline-success{% endif %} mx-2">
            <i class="fas fa-check-circle"></i> –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ
        </a>
        <a href="{% url 'order_list' %}" class="btn {% if not request.GET.status %}btn-secondary{% else %}btn-outline-secondary{% endif %} mx-2">
            <i class="fas fa-list"></i> –í—Å–µ –∑–∞–∫–∞–∑—ã
        </a>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ -->
    <div class="order-list-container">
        {% if orders %}
        <ul class="list-group">
            {% for order in orders %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <strong>–ó–∞–∫–∞–∑ #{{ order.id }}</strong> <br>
                    –î–∞—Ç–∞: {{ order.date_created|date:"d M Y, H:i" }}
                </div>
                <a href="{% url 'order_detail' order.id %}" class="btn btn-outline-info btn-sm">
                    <i class="fas fa-info-circle"></i> –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                </a>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <div class="text-center mt-4">
            <p class="text-muted">–ó–∞–∫–∞–∑–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</p>
        </div>
        {% endif %}
    </div>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–∞—Ö -->
    <div class="mt-4 text-center">
        <p><strong>–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤:</strong> {{ total_orders_count }}</p>
    </div>
</div>
{% else %}
<div class="container mt-5 text-center">
    <h2 class="text-danger">üö´ –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω</h2>
    <p>–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.</p>
</div>
{% endif %}
{% endblock main %}
